<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/style.css" media="all">
    <link rel="stylesheet" href="/styles/media-query.css">
    <title>Teste Front-End</title>
</head>
<body>
    <div class="fade hidden"></div>
    <header>
        <a href="/">
            <img src="/img/logo-imovel-guide.png" alt="logo da imovel guide">
        </a>
    </header>
    <main>
        <!--modal-->
        <div id="modal" class="modal hidden">
            <div class="modal-btnDiv">
                <button class="btnFechar">
                    <img src="/icons/close_icon.png" class="btnFechar-icon" alt="icone de fechar">
                </button>
            </div>
            <img src="/img/fachada-casa.jpg" class="imgModal" alt="foto da fachada de uma casa">
        </div>
        <!--bloco corretores-->
        <section class="container">
            <div class="container-corretor">
                <div class="container-imgCorretor">
                    <div class="corretora"></div>
                    <img src="/img/foto-corretora.png" alt="foto do corretor">
                </div>
                <div class="container-dadosCorretor">
                    <p class="corretor-nome">Maria Eduarda</p>
                    <p class="corretor-pontos">3.000 pontos</p>
                    <a class="corretor-telefone" id="phoneView1">ver telefone</a>
                </div>
            </div>
            <div class="container-corretor">
                <div class="container-imgCorretor">
                    <div class="corretor"></div>
                    <img src="/img/foto-corretor.png" alt="foto do corretor">
                </div>
                <div class="container-dadosCorretor">
                    <p class="corretor-nome">Mateus</p>
                    <p class="corretor-pontos">3.000 pontos</p>
                    <a class="corretor-telefone" id="phoneView2">ver telefone</a>
                </div>
            </div>
        </section>

        <!--bloco mande uma mensagem-->
        <section class="container">
            <form class="container-form">
                <h1>Mande uma mensagem:</h1>
                <input type="text" class="form-input" id="cpfInput" maxlength="14" placeholder="Digite seu CPF">
                <input type="text" class="form-input" id="phoneInput" maxlength="14" placeholder="Digite seu telefone">
                <input type="text" class="form-input assunto" placeholder="Digite o assunto">
                <input type="submit" class="form-enviar" id="btnSubmit" value="Enviar Mensagem">
            </form>
        </section>

        <!--bloco regra de 3-->
        <section class="container calculo">
            <h1>Regra de 3</h1>
            <div class="container-calculo">
                <input class="calculo-input" type="text" id="inputNum1">
                <img src="/icons/line_icon.png" alt="linha">
                <input class="calculo-input" type="text" id="inputNum2">
                <input class="calculo-input" type="text" id="inputNum3">
                <img src="/icons/line_icon.png" alt="linha">
                <input class="calculo-input" type="text" id="resultView" disabled="true" placeholder="X">
            </div>
            <button class="calculo-btnCalcular" id="btnCalcular">Calcular</button>
        </section>

        <!--bloco modal da imagem-->
        <section class="container imgCasa">
            <div class="imgCasa-img">
                <img src="/img/fachada-casa.jpg" class="casa" alt="foto da fachada de uma casa">
            </div>
            <button class="imgCasa-btn" id="btnOpenModal">ABRIR IMAGEM NO MODAL</button>
        </section>

        <!--bloco download da imagem-->
        <section class="container imgCasa">
            <div class="imgCasa-img" id="imgCasa">
                <img src="/img/fachada-casa.jpg" class="casa" alt="foto da fachada de uma casa">
                <p class="imgCasa-legenda">Imovel Guide</p>
            </div>
            <button class="imgCasa-btn downloadBtn" id="btnDownload">Download</button>
        </section>

        <!--bloco animacao de zoom out da imagem-->
        <section class="container imgCasa">
            <div class="imgCasa-img">
                <img src="/img/fachada-casa.jpg" class="casa animacao" alt="foto da fachada de uma casa">
            </div>
        </section>
    </main>
    <footer>
        <p class="footer-texto">Desenvolvido por Davi Gabriel Segantin</p>
        <img src="/img/logo-imovel-guide.png" alt="logo da imovel guide">
    </footer>

    <script src="/script/script.js"></script>
    <script src="/script/html2canvas.min.js"></script>
    <script>
        const btnDownload = document.querySelector('#btnDownload');

        btnDownload.addEventListener('click', () => {
            console.log('clicou');
            html2canvas(document.querySelector("#imgCasa")).then(canvas => {
                let link = document.createElement('a');
                link.download = 'casa.png';
                link.href = canvas.toDataURL('image/png');
                link.click();
            });
        });
    </script>
</body>
</html>